<div class="px-[24px]">
  <h1 class="font-[Montserrat] text-white font-bold text-[32px] mb-[16px] py-[24px]">Ë®òÈå≤‰∏ÄË¶ß</h1>
  <div class="box-border border-1 border-white bg-white/30 rounded-[20px] text-[#656565]">
    <table>
      <thead class="border-b-1 border-[#656565]">
        <tr class="text-[#656565] font-bold">
          <th>Êó•‰ªò</th>
          <th>‰ΩìÈáç</th>
          <th>‰ΩìËÑÇËÇ™Áéá</th>
          <th>„É¢„ÉÅ„Éô„Éº„Ç∑„Éß„É≥</th>
          <th>„Çø„Çπ„ÇØ„ÅÆÈÅîÊàêÁéá</th>
        </tr>
      </thead>


      <%= paginate @dates %>
      <tbody>
        <% @dates.each do |date| %>
          <% daily_record = @daily_records[date] %>

          <tr class="border-b-1 border-[#656565]">
            <td class="p-[24px]"><%= date.strftime("%YÔºè%mÔºè%d") %></td>
            <td class="inline-block m-[24px]">
              <% if daily_record %>
                <%= form_with model: daily_record, url: daily_record_path(daily_record), method: :patch, local: true do |form| %>
                  <%= form.number_field :weight %><p class="inline-block">kg</p>
                  <div class="inline-block box-content bg-[#2EB7AC] text-white px-[16px] py-[12px] rounded-[20px]"><%= form.submit "Êõ¥Êñ∞" %></div>
                <% end %>
                <div class="inline-block"><% if daily_record.weight.present? %>
                  <%= button_to "ÂâäÈô§", daily_record_path(daily_record), method: :patch, params: { daily_record: { weight: nil } }, data: { turbo_confirm: "‰ΩìÈáç„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" } %>
                <% end %></div>
              <% else %>
                <div class="box-content bg-[#2EB7AC] text-white rounded-[20px] px-[85px] py-[12px]"><%= link_to "Êñ∞Ë¶èË®òÈå≤‰ΩúÊàê", new_daily_record_path %></div> 
              <% end %>
            </td>

            <td class="inline-block m-[24px]">
              <% if daily_record %>
                <%= form_with model: daily_record, url: daily_record_path(daily_record), method: :patch, local: true do |form| %>
                  <%= form.number_field :body_fat_percentage %><p class="inline-block">%</p>
                  <div class="iniline-block box-content bg-[#2EB7AC] text-white px-[16px] py-[12px] rounded-[20px]"><%= form.submit "Êõ¥Êñ∞" %></div>
                <% end %>
                <div class="inline-block"><% if daily_record.body_fat_percentage.present? %>
                  <%= button_to "ÂâäÈô§", daily_record_path(daily_record), method: :patch, params: { daily_record: { body_fat_percentage: nil } }, data: { turbo_confirm: "‰ΩìËÑÇËÇ™Áéá„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" } %>
                <% end %></div>
              <% end %>
            </td>

            <td class="p-[24px]">
              <% if daily_record %>
                <%= daily_record.motivation %>
              <% else %>
                <%= form_with url: daily_records_path, scope: :daily_record, method: :post, local: true do |form| %>
                  <%= form.hidden_field :recorded_on, value: date %>
                  <%= form.radio_button :motivation, "üòñ" %>
                  <%= form.label :motivation, "üòñ" %>
                  <%= form.radio_button :motivation, "üòë" %>
                  <%= form.label :motivation, "üòë" %>
                  <%= form.radio_button :motivation, "üôÇ" %>
                  <%= form.label :motivation, "üôÇ" %>
                  <%= form.radio_button :motivation, "üòÜ" %>
                  <%= form.label :motivation, "üòÜ" %>
                  <%= form.submit "‰øùÂ≠ò" %>
                <% end %>
              <% end %>
            </td>
            <td class="p-[24px]"><% if daily_record %><%= @rates[daily_record.id] %>%<% end %></td>
          </tr>
        <% end %>
      </tbody>
      <%= paginate @dates %>
    </table>
  </div>
</div>
